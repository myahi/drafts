ork.boot.ssl.DefaultSslBundleRegistry]: Factory method 'sslBundleRegistry' threw exception with message: Unable to register SSL bundle 'mgmt'
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)



management.server.port=8443
management.server.ssl.enabled=true
management.server.ssl.bundle=mgmt

spring.ssl.bundle.jks.mgmt.keystore.location=file:../config/sdv4eai02.f1nom0a.local.p12
spring.ssl.bundle.jks.mgmt.keystore.type=PKCS12
spring.ssl.bundle.jks.mgmt.keystore.password=ENC(XXX)
spring.ssl.bundle.jks.mgmt.key.password=ENC(XXX)

export JASYPT_ENCRYPTOR_PASSWORD='Eai_Dev_C@mel'

Caused by: java.lang.IllegalStateException: Could not load store from '../config/sdv4eai02.f1nom0a.local.p12'
	at org.springframework.boot.ssl.jks.JksSslStoreBundle.loadKeyStore(JksSslStoreBundle.java:123)
	at org.springframework.boot.ssl.jks.JksSslStoreBundle.createKeyStore(JksSslStoreBundle.java:89)
	... 35 common frames omitted
Caused by: java.io.IOException: keystore password was incorrect
	at java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2159)
	at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:221)
	at java.base/java.security.KeyStore.load(KeyStore.java:1473)
	at org.springframework.boot.ssl.jks.JksSslStoreBundle.loadKeyStore(JksSslStoreBundle.java:119)
	... 36 common frames omitted
Caused by: java.security.UnrecoverableKeyException: failed to decrypt safe contents entry: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.

management.server.ssl.key-store-password

management.server.ssl.key-store-password=ENC(XXX)

Failed to bind properties under 'spring.datasource.password' to java.lang.String:

    Reason: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'spring.datasource.password' to java.lang.String

Parfait üëç
Bonne s√©quence : d√©pendances ‚Üí config ‚Üí chiffrement ‚Üí d√©ploiement.

Voici la liste minimale et propre des d√©pendances Maven √† importer pour Spring Boot + Camel + Jasypt, sans surplus.


---

‚úÖ D√©pendances Maven √† ajouter

üîê 1Ô∏è‚É£ Jasypt (obligatoire pour le chiffrement)

<dependency>
  <groupId>com.github.ulisesbocchio</groupId>
  <artifactId>jasypt-spring-boot-starter</artifactId>
  <version>3.0.5</version>
</dependency>


---

üê™ 2Ô∏è‚É£ Camel Spring Boot (selon ton projet)

(exemples usuels)

<dependency>
  <groupId>org.apache.camel.springboot</groupId>
  <artifactId>camel-spring-boot-starter</artifactId>
</dependency>

Ajoute ensuite les starters Camel dont tu as besoin (HTTP, JMS, FIX, etc.).


---

üå± 3Ô∏è‚É£ Spring Boot Actuator (optionnel mais courant)

(utile si tu as d√©j√† Prometheus / monitoring)

<dependency>
  <groupId>org.springframework.boot</groupId>
  <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>


---

üîé Exemple de pom.xml minimal (extrait)

<dependencies>

  <!-- Spring Boot -->
  <dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter</artifactId>
  </dependency>

  <!-- Camel -->
  <dependency>
    <groupId>org.apache.camel.springboot</groupId>
    <artifactId>camel-spring-boot-starter</artifactId>
  </dependency>

  <!-- Jasypt -->
  <dependency>
    <groupId>com.github.ulisesbocchio</groupId>
    <artifactId>jasypt-spring-boot-starter</artifactId>
    <version>3.0.5</version>
  </dependency>

</dependencies>

üëâ Pas besoin de configuration Java suppl√©mentaire pour Jasypt.


---

‚ö†Ô∏è Points d‚Äôattention

Si tu es en Spring Boot 3.x :

Java 17 minimum

Jasypt 3.0.5 est OK


Si tu es en Spring Boot 2.x :

Java 8+

m√™me d√©pendance OK




---

üß™ √âtape suivante (quand tu veux)

Une fois les d√©pendances import√©es, la prochaine √©tape logique est :

üëâ Configurer application.properties / application.yml
üëâ Chiffrer un premier mot de passe de test
üëâ D√©marrer l‚Äôapp avec JASYPT_ENCRYPTOR_PASSWORD

Quand tu as fini l‚Äôimport Maven, dis-moi :

ta version Spring Boot

ta version Camel


Je te donnerai la config exacte adapt√©e √† ton stack (copier-coller).
