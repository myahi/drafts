Oui âœ… complÃ¨tement, et il y a plusieurs niveaux de â€œparamÃ©trageâ€, du plus simple au plus propre.
Vu ton contexte Camel/Spring, je te les classe par ordre de simplicitÃ© et de bon sens.


---

âœ… Option 1 â€” Remplacement simple (le plus lÃ©ger, sans lib)

Parfait si tu as peu de variables.

Template HTML

<p>Bonjour {{prenom}},</p>
<p>Veuillez trouver ci-joint le fichier {{filename}} du {{date}}.</p>
<p>Cordialement</p>

CÃ´tÃ© route appelante

String html = Files.readString(templatePath, StandardCharsets.UTF_8);

html = html.replace("{{prenom}}", prenom)
           .replace("{{filename}}", fileName)
           .replace("{{date}}", LocalDate.now().toString());

exchange.getMessage().setBody(html);
exchange.getMessage().setHeader("Content-Type", "text/html; charset=UTF-8");

âœ”ï¸ ultra simple
âœ”ï¸ zÃ©ro dÃ©pendance
âŒ pas de conditions/boucles

ğŸ‘‰ TrÃ¨s bien pour 80% des mails mÃ©tiers


---

âœ… Option 2 â€” Freemarker (propre et standard Camel)

ğŸ‘‰ RecommandÃ© si tu veux des if, list, format, etc.

DÃ©pendance

<dependency>
  <groupId>org.apache.camel.springboot</groupId>
  <artifactId>camel-freemarker-starter</artifactId>
</dependency>

Template mail.ftl

<p>Bonjour ${prenom},</p>

<p>
  Veuillez trouver ci-joint le fichier <b>${filename}</b>
  du ${date}.
</p>

<#if comment??>
<p>${comment}</p>
</#if>

<p>Cordialement</p>

Route appelante

exchange.getMessage().setHeader("prenom", prenom);
exchange.getMessage().setHeader("filename", fileName);
exchange.getMessage().setHeader("date", LocalDate.now());
exchange.getMessage().setHeader("comment", comment);

.to("freemarker:classpath:templates/mail.ftl")
.setHeader("Content-Type", constant("text/html; charset=UTF-8"))
.to("direct:MailRoute");

âœ”ï¸ trÃ¨s propre
âœ”ï¸ maintenable
âœ”ï¸ lisible pour le mÃ©tier


---

âœ… Option 3 â€” Thymeleaf (si tu lâ€™utilises dÃ©jÃ )

Plus lourd, plutÃ´t orientÃ© MVC.
ğŸ‘‰ Pas nÃ©cessaire pour des mails simples Camel.


---

ğŸ§  Bonne pratique (important)

ğŸ“Œ ParamÃ©trage cÃ´tÃ© route appelante (comme tu le fais)

ğŸ“Œ MailRoute = transport uniquement

ğŸ“Œ Le template ne connaÃ®t pas Camel


Tu es exactement dans la bonne approche.


---

TL;DR

Peu de variables â†’ replace simple

HTML un peu riche â†’ Freemarker

Garde la route mail gÃ©nÃ©rique âœ…


Si tu veux, dis-moi :

combien de variables

si tu veux des conditions (si erreur, si succÃ¨s)

si les mÃ©tiers modifient le HTML


et je te propose la solution la plus simple possible, pas plus.
